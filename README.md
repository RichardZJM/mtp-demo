<!-- This README was in part generated by AI. -->

# Demos (Linux Only)

This repository contains demonstration scripts and data for MLIP-3 functionalities and the new MTP implementation with Kokkos. It also includes examples of MTP pruning and performance comparison.

## Table of Contents

- [Demos (Linux Only)](#demos-linux-only)
  - [Table of Contents](#table-of-contents)
  - [Installation](#installation)
  - [Directory Structure](#directory-structure)
  - [Instructions](#instructions)
  - [Demo Sets](#demo-sets)
  - [Sample Data](#sample-data)
  - [Performance Comparison](#performance-comparison)
    - [Inference Performance](#inference-performance)
    - [Active Learning Performance](#active-learning-performance)
  - [Support](#support)

## Installation

1. **Verify Directory Structure:**
   - The `code_install` directory should be a child of the `demo` directory.
   - Example:
     ```
     /Projects/Demo/demo
     /Projects/Demo/demo/code_install
     ```
2. **Set Up Executables:**
   - Refer to the `README.md` inside `code_install/` for specific build and setup instructions for the executables.
   - After building, run the setup script to make all executables accessible:
     ```sh
     sh load_bin.sh
     ```
   - **Important:** Always run demo scripts from within their respective directories.
   - You may need to run this once each time you load this demo set.

## Directory Structure

- `demo/` — Main directory containing demo scripts and sample data.
- `code_install/` — Contains codebase and installation scripts required for demos.
- `bin/` — Contains symlinks or executables set up by `load_bin.sh` for easy access.
- `sample/` — Example simulation data (alpha quartz).
- `mlip3/` — MLIP-3 demo scripts and related files.
- `newmtp/` — New MTP implementation demos (with subdirectories for cpu, gpu block parallel, gpu thread parallel).
- `pruning/` — Scripts and data for MTP pruning demos (with subdirectories for extract, prune, write_inherited).

## Instructions

- Before running any demo, execute `load_bin.sh` to set up your environment.
- Run scripts from their own directories to avoid path issues.

## Demo Sets

There are three main sets of demos:

1. **Basic MLIP-3 Functionalities:**
   - Breakdown of file formats
   - Basic training
   - Inference
   - Active learning
2. **New MTP Implementation with Kokkos:**
   - CPU mode:
     - Inference
     - Active learning
   - GPU block parallel:
     - Inference
     - Active learning
   - GPU thread parallel:
     - Inference
     - Active learning
3. **MTP Pruning:**
   - Extracting a problem
   - Pruning a potential
   - Writing out the new potential

## Sample Data

The `sample` folder contains data for an example simulation in alpha quartz. This data is used throughout the inference and active learning demos.

## Performance Comparison

You can compare simulation rates between different methods by examining the `log.lammps` output files generated by each demo. These logs provide detailed timing and performance metrics. You can use the table below as a place to record and compare the results you measure.

### Inference Performance

| Method     | Simulation Rate | Notes |
| ---------- | --------------- | ----- |
| MLIP-3     |                 |       |
| New CPU    |                 |       |
| GPU Block  |                 |       |
| GPU Thread |                 |       |

### Active Learning Performance

| Method     | Simulation Rate | Notes |
| ---------- | --------------- | ----- |
| MLIP-3     |                 |       |
| New CPU    |                 |       |
| GPU Block  |                 |       |
| GPU Thread |                 |       |

## Support

If you encounter any issues or have questions about the demos, please open an issue or send an email.
